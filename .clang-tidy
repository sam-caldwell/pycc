# file: .clang-tidy
#
# Note on docstring validation:
#   clang-tidy-docstring is an external validator (not a clang-tidy plugin).
#   It runs as part of `make lint` and the CMake target `validate_docstrings`.
#   Requirement per function/method definition:
#     - Docstring immediately above the definition
#     - Fields: "Function:" (or "Method:"), "Parameters:", "Returns:" (or "Outputs:")
#     - The function name and each parameter name must appear in the fields
#   To run manually:
#     ./build/clang_tidy_docstring -d include -d src
#
Checks: >
  bugprone-*,
  clang-analyzer-*,
  llvm-*,
  misc-const-correctness,
  misc-confusable-identifiers,
  misc-coroutine-hostile-raii,
  misc-definitions-in-headers,
  misc-header-include-cycle,
  misc-misleading-bidirectional,
  misc-misleading-identifier,
  misc-throw-by-value-catch-by-reference,
  misc-unused-using-decls,
  readability-named-parameter,
  readability-isolate-declaration,
  -readability-identifier-length,
  -readability-braces-around-statements,
  -misc-include-cleaner,
  -llvm-include-order,
  -llvm-else-after-return,
  -bugprone-branch-clone,
# Tune complexity/size thresholds to your policy
CheckOptions:
  - key: readability-function-cognitive-complexity.Threshold
    value: 15
  - key: readability-function-size.LineThreshold
    value: 80
  - key: readability-function-size.BranchThreshold
    value: 30
  - key: readability-function-size.ParameterThreshold
    value: 6
  - key: readability-function-size.NestingThreshold
    value: 3
WarningsAsErrors: '*'
HeaderFilterRegex: '^(src|include)/'
